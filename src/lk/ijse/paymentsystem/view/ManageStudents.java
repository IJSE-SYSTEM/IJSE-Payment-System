/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package lk.ijse.paymentsystem.view;

import com.sun.glass.events.KeyEvent;
import java.awt.Color;
import java.awt.Component;
import java.awt.Font;
import java.awt.Frame;
import java.awt.KeyEventPostProcessor;
import java.awt.KeyboardFocusManager;
import java.awt.Window;
import java.awt.event.FocusAdapter;
import java.awt.event.FocusEvent;
import javax.swing.JButton;
import javax.swing.SwingUtilities;

/**
 *
 * @author Ranjith Suranga
 */
public class ManageStudents extends javax.swing.JDialog {

    /**
     * Creates new form ManageStudents
     */
    public static ManageStudents manageStudents;
    
    Frame parent;
    private ManageStudents(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        setLocationRelativeTo(null);
        this.parent=parent;
        
        

//        ImageIcon frameIcon = new ImageIcon(this.getClass().getResource("/lk/ijse/academic_results_system_admin/icons/frame_icon_manage_students.png"));
//        setIconImage(frameIcon.getImage());

        getContentPane().setBackground(new Color(0xFFFFFF));

        for (Component cmp : this.getContentPane().getComponents()) {
            if (cmp instanceof JButton) {
                JButton btn = (JButton) cmp;
                btn.setFocusPainted(false);
                btn.addFocusListener(new FocusAdapter() {

                    @Override
                    public void focusGained(FocusEvent e) {
                        super.focusGained(e);
                        btn.setFont(btn.getFont().deriveFont(Font.BOLD));
                        btn.setForeground(new Color(0x0000FF));
                    }

                    @Override
                    public void focusLost(FocusEvent e) {
                        super.focusLost(e);
                        btn.setFont(btn.getFont().deriveFont(Font.PLAIN));
                        btn.setForeground(new Color(0x000000));
                    }
                    
                });
            }
        }
    }

    public static ManageStudents showInstance(java.awt.Frame parent, boolean modal){
        if(manageStudents==null){
            manageStudents = new ManageStudents(parent, modal);
        }
        manageStudents.setVisible(true);
        return manageStudents;
    }
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        btnAddNewStudent = new javax.swing.JButton();
        btnSearchExistingStudent = new javax.swing.JButton();
        btnViewAllStudents = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Manage Students | IJSE - Academic Results System");
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowOpened(java.awt.event.WindowEvent evt) {
                formWindowOpened(evt);
            }
        });

        btnAddNewStudent.setFont(new java.awt.Font("Segoe UI", 0, 16)); // NOI18N
        btnAddNewStudent.setIcon(new javax.swing.ImageIcon(getClass().getResource("/lk/ijse/paymentsystem/icons/add_new_student.png"))); // NOI18N
        btnAddNewStudent.setText("Add a New Student");
        btnAddNewStudent.setToolTipText("Click to add a new student");
        btnAddNewStudent.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        btnAddNewStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAddNewStudentActionPerformed(evt);
            }
        });
        btnAddNewStudent.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                btnAddNewStudentKeyReleased(evt);
            }
        });

        btnSearchExistingStudent.setFont(new java.awt.Font("Segoe UI", 0, 16)); // NOI18N
        btnSearchExistingStudent.setIcon(new javax.swing.ImageIcon(getClass().getResource("/lk/ijse/paymentsystem/icons/search_existing_student.png"))); // NOI18N
        btnSearchExistingStudent.setText("Search an Existing Student");
        btnSearchExistingStudent.setToolTipText("Click to search a student and then edit or delete him/her");
        btnSearchExistingStudent.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        btnSearchExistingStudent.setHorizontalTextPosition(javax.swing.SwingConstants.LEFT);
        btnSearchExistingStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSearchExistingStudentActionPerformed(evt);
            }
        });
        btnSearchExistingStudent.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                btnSearchExistingStudentKeyReleased(evt);
            }
        });

        btnViewAllStudents.setFont(new java.awt.Font("Segoe UI", 0, 16)); // NOI18N
        btnViewAllStudents.setIcon(new javax.swing.ImageIcon(getClass().getResource("/lk/ijse/paymentsystem/icons/view_all_students.png"))); // NOI18N
        btnViewAllStudents.setText("View All Students");
        btnViewAllStudents.setToolTipText("Click to view all the students in the system");
        btnViewAllStudents.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        btnViewAllStudents.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnViewAllStudentsActionPerformed(evt);
            }
        });
        btnViewAllStudents.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                btnViewAllStudentsKeyReleased(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(25, 25, 25)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btnAddNewStudent, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnSearchExistingStudent, javax.swing.GroupLayout.DEFAULT_SIZE, 364, Short.MAX_VALUE)
                    .addComponent(btnViewAllStudents, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(25, 25, 25))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(45, 45, 45)
                .addComponent(btnAddNewStudent, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnSearchExistingStudent, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnViewAllStudents)
                .addGap(45, 45, 45))
        );

        layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {btnAddNewStudent, btnSearchExistingStudent, btnViewAllStudents});

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnAddNewStudentKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_btnAddNewStudentKeyReleased
        if (evt.getKeyCode() == KeyEvent.VK_DOWN) {
            btnSearchExistingStudent.requestFocusInWindow();
        } else if (evt.getKeyCode() == KeyEvent.VK_UP) {
            btnViewAllStudents.requestFocusInWindow();
        }
    }//GEN-LAST:event_btnAddNewStudentKeyReleased

    private void btnSearchExistingStudentKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_btnSearchExistingStudentKeyReleased
        if (evt.getKeyCode() == KeyEvent.VK_DOWN) {
            btnViewAllStudents.requestFocusInWindow();
        } else if (evt.getKeyCode() == KeyEvent.VK_UP) {
            btnAddNewStudent.requestFocusInWindow();
        }
    }//GEN-LAST:event_btnSearchExistingStudentKeyReleased

    private void btnViewAllStudentsKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_btnViewAllStudentsKeyReleased
        if (evt.getKeyCode() == KeyEvent.VK_DOWN) {
            btnAddNewStudent.requestFocusInWindow();
        } else if (evt.getKeyCode() == KeyEvent.VK_UP) {
            btnSearchExistingStudent.requestFocusInWindow();
        }
    }//GEN-LAST:event_btnViewAllStudentsKeyReleased

    private void btnAddNewStudentActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAddNewStudentActionPerformed
        StudentRegistrationForm form = new StudentRegistrationForm();
        form.setVisible(true);
        this.dispose();
//        parent.toBack();
        form.toFront();
    }//GEN-LAST:event_btnAddNewStudentActionPerformed

    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened
        KeyboardFocusManager focusManager = KeyboardFocusManager.getCurrentKeyboardFocusManager();
        focusManager.addKeyEventPostProcessor(new KeyEventPostProcessor() {
            @Override
            public boolean postProcessKeyEvent(java.awt.event.KeyEvent e) {
                if (e.getID() == java.awt.event.KeyEvent.KEY_RELEASED) {
                    if (e.getKeyCode() == KeyEvent.VK_ESCAPE) {
                        Window windowForComponent = SwingUtilities.windowForComponent((Component) e.getSource());
                        if (windowForComponent == null) return false;
                        windowForComponent.dispose();
                    }
                }
                return false;
            }
        });
    }//GEN-LAST:event_formWindowOpened

    private void btnSearchExistingStudentActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSearchExistingStudentActionPerformed
       this.dispose();
        new SearchStudent(null, true).setVisible(true);
        
    }//GEN-LAST:event_btnSearchExistingStudentActionPerformed

    private void btnViewAllStudentsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnViewAllStudentsActionPerformed
//        new ViewAllStudents(null, true).setVisible(true);
    }//GEN-LAST:event_btnViewAllStudentsActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnAddNewStudent;
    private javax.swing.JButton btnSearchExistingStudent;
    private javax.swing.JButton btnViewAllStudents;
    // End of variables declaration//GEN-END:variables
}
